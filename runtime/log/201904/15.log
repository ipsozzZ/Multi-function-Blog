---------------------------------------------------------------
[ 2019-04-15T14:08:00+08:00 ] 183.145.174.9 GET /
[ sql ] [ DB ] CONNECT:[ UseTime:0.001914024353027343750000000000s ] mysql:host=localhost;dbname=1975386453;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_category` [ RunTime:0.001706s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 0  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 42  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 29  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000347s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 33  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000338s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 45  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_config` [ RunTime:0.001330s ]
[ sql ] [ SQL ] SELECT `config` FROM `qm_config` LIMIT 1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_banner` [ RunTime:0.001259s ]
[ sql ] [ SQL ] SELECT `title`,`pic`,`url` FROM `qm_banner` WHERE  `isshow` = 1 ORDER BY `sort` ASC [ RunTime:0.000459s ]
[ sql ] [ SQL ] SELECT `content`,`name`,`keyword` FROM `qm_category` WHERE  `mark` = 'about' LIMIT 1 [ RunTime:0.000301s ]
[ sql ] [ SQL ] SELECT `id` FROM `qm_category` WHERE  `mark` = 'pictures' LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `qm_category` WHERE  `pid` = 33 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_article` [ RunTime:0.001280s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`title`,`a`.`cid`,`b`.`pic` FROM `qm_article` `a` INNER JOIN `qm_pics` `b` ON `b`.`aid`=`a`.`id` WHERE  `a`.`cid` = 37  AND `a`.`istop` = 1 [ RunTime:0.022987s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`title`,`a`.`cid`,`b`.`pic` FROM `qm_article` `a` INNER JOIN `qm_pics` `b` ON `b`.`aid`=`a`.`id` WHERE  `a`.`cid` = 46  AND `a`.`istop` = 1 [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`title`,`a`.`cid`,`b`.`pic` FROM `qm_article` `a` INNER JOIN `qm_pics` `b` ON `b`.`aid`=`a`.`id` WHERE  `a`.`cid` = 47  AND `a`.`istop` = 1 [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`keyword` FROM `qm_category` WHERE  `id` = 46 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`keyword` FROM `qm_category` WHERE  `id` = 33 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 42 LIMIT 1 [ RunTime:0.000409s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 43 LIMIT 1 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 44 LIMIT 1 [ RunTime:0.000338s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 51 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 52 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 53 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 29 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 33 LIMIT 1 [ RunTime:0.000352s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 37 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 46 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 47 LIMIT 1 [ RunTime:0.000338s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 45 LIMIT 1 [ RunTime:0.000328s ]
---------------------------------------------------------------
[ 2019-04-15T19:18:39+08:00 ] 180.76.15.28 GET /news/show/111.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.001943826675415039062500000000s ] mysql:host=localhost;dbname=1975386453;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_category` [ RunTime:0.002143s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 0  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000633s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 42  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000425s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 29  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000330s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 33  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000326s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `pid` = 45  AND `isshow` = 1 ORDER BY `sort` DESC,`id` ASC [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_config` [ RunTime:0.001850s ]
[ sql ] [ SQL ] SELECT `config` FROM `qm_config` LIMIT 1 [ RunTime:0.000378s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`type` FROM `qm_category` WHERE  `mark` = 'news' [ RunTime:0.000298s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_article` [ RunTime:0.001580s ]
[ sql ] [ SQL ] SELECT `a`.*,`b`.`pic` FROM `qm_article` `a` INNER JOIN `qm_pics` `b` ON `b`.`aid`=`a`.`id` WHERE  `a`.`id` = '111' [ RunTime:0.001714s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_viewslog` [ RunTime:0.001665s ]
[ sql ] [ SQL ] DELETE FROM `qm_viewslog`    WHERE  `viewtime` <  1555257600 [ RunTime:0.010648s ]
[ sql ] [ SQL ] SELECT * FROM `qm_viewslog` WHERE  `aid` = 111  AND `viewIP` = '180.76.15.28'  AND `viewtime` BETWEEN 1555257600 AND 1555344000 LIMIT 1 [ RunTime:0.000433s ]
[ sql ] [ SQL ] UPDATE `qm_article`  SET `views`=`views`+1  WHERE  `id` = 111 [ RunTime:0.000524s ]
[ sql ] [ SQL ] INSERT INTO `qm_viewslog` (`aid` , `viewIP` , `viewtime`) VALUES (111 , '180.76.15.28' , 1555327119) [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_comment` [ RunTime:0.001771s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qm_comment` WHERE  `aid` = 111 LIMIT 1 [ RunTime:0.000465s ]
[ sql ] [ SQL ] SELECT * FROM `qm_comment` WHERE  `aid` = 111 LIMIT 0,5 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qm_fabullog` [ RunTime:0.002076s ]
[ sql ] [ SQL ] SELECT `id` FROM `qm_fabullog` WHERE  `aid` = 111  AND `uip` = '180.76.15.28' LIMIT 1 [ RunTime:0.000433s ]
[ sql ] [ SQL ] SELECT `a`.`id` FROM `qm_comment` `a` INNER JOIN `qm_fabullog` `b` ON `a`.`id`=`b`.`cid` WHERE  `a`.`aid` = '111'  AND `b`.`uip` = '180.76.15.28' [ RunTime:0.000379s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 42 LIMIT 1 [ RunTime:0.000616s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 43 LIMIT 1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 44 LIMIT 1 [ RunTime:0.000439s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 51 LIMIT 1 [ RunTime:0.000374s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 52 LIMIT 1 [ RunTime:0.000331s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 53 LIMIT 1 [ RunTime:0.000331s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 29 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 33 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 37 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 46 LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 47 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 45 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SELECT `pic`,`pid` FROM `qm_category` WHERE  `id` = 53 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SELECT `pic`,`pid` FROM `qm_category` WHERE  `id` = 42 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid` FROM `qm_category` WHERE  `id` = 53 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid` FROM `qm_category` WHERE  `id` = 42 LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 43 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 44 LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 51 LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 52 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT * FROM `qm_category` WHERE  `pid` = 53 LIMIT 1 [ RunTime:0.000319s ]
